<svg width="600" height="280" xmlns="http://www.w3.org/2000/svg">
  <!-- 背景 -->
  <rect width="600" height="280" fill="#f9f9f9"/>
  
  <!-- タイトル -->
  <text x="300" y="25" font-size="16" font-weight="bold" text-anchor="middle" fill="#333">3点補正：測定誤差も完全にフィットしてしまう</text>
  
  <!-- 左側：指令座標系 -->
  <g transform="translate(80, 80)">
    <text x="0" y="-20" font-size="14" font-weight="bold" fill="#0066cc">指令座標（Reference）</text>
    <!-- 軸 -->
    <line x1="0" y1="0" x2="160" y2="0" stroke="#999" stroke-width="1"/>
    <line x1="0" y1="0" x2="0" y2="160" stroke="#999" stroke-width="1"/>
    <text x="165" y="5" font-size="12" fill="#666">X</text>
    <text x="-5" y="175" font-size="12" fill="#666">Y</text>
    
    <!-- 理想グリッド -->
    <circle cx="20" cy="20" r="4" fill="#0066cc"/>
    <circle cx="140" cy="20" r="4" fill="#0066cc"/>
    <circle cx="20" cy="140" r="4" fill="#0066cc"/>
    
    <text x="20" y="38" font-size="10" text-anchor="middle" fill="#0066cc">P1</text>
    <text x="140" y="38" font-size="10" text-anchor="middle" fill="#0066cc">P2</text>
    <text x="20" y="158" font-size="10" text-anchor="middle" fill="#0066cc">P3</text>
  </g>
  
  <!-- 矢印 -->
  <g transform="translate(280, 160)">
    <line x1="0" y1="0" x2="40" y2="0" stroke="#ff6600" stroke-width="2" marker-end="url(#arrowhead)"/>
    <text x="20" y="-5" font-size="12" text-anchor="middle" fill="#ff6600">補正</text>
  </g>
  
  <!-- 右側：計測座標系（誤差含む） -->
  <g transform="translate(400, 80)">
    <text x="0" y="-20" font-size="14" font-weight="bold" fill="#cc0000">計測座標（Measured）</text>
    <!-- 軸 -->
    <line x1="0" y1="0" x2="160" y2="0" stroke="#999" stroke-width="1"/>
    <line x1="0" y1="0" x2="0" y2="160" stroke="#999" stroke-width="1"/>
    <text x="165" y="5" font-size="12" fill="#666">u</text>
    <text x="-5" y="175" font-size="12" fill="#666">v</text>
    
    <!-- 測定点（わずかにずれている） -->
    <circle cx="23" cy="18" r="4" fill="#cc0000"/>
    <circle cx="138" cy="23" r="4" fill="#cc0000"/>
    <circle cx="19" cy="142" r="4" fill="#cc0000"/>
    
    <!-- 誤差を示す矢印 -->
    <line x1="20" y1="20" x2="23" y2="18" stroke="#ff9900" stroke-width="1.5" marker-end="url(#arrowhead2)"/>
    <line x1="140" y1="20" x2="138" y2="23" stroke="#ff9900" stroke-width="1.5" marker-end="url(#arrowhead2)"/>
    <line x1="20" y1="140" x2="19" y2="142" stroke="#ff9900" stroke-width="1.5" marker-end="url(#arrowhead2)"/>
    
    <text x="23" y="38" font-size="10" text-anchor="middle" fill="#cc0000">P1'</text>
    <text x="138" y="41" font-size="10" text-anchor="middle" fill="#cc0000">P2'</text>
    <text x="19" y="158" font-size="10" text-anchor="middle" fill="#cc0000">P3'</text>
    
    <text x="80" y="185" font-size="11" text-anchor="middle" fill="#ff6600">※3点すべて残差=0</text>
    <text x="80" y="200" font-size="11" text-anchor="middle" fill="#ff6600">誤差も学習してしまう</text>
  </g>
  
  <!-- 矢印マーカー定義 -->
  <defs>
    <marker id="arrowhead" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
      <polygon points="0 0, 10 3, 0 6" fill="#ff6600"/>
    </marker>
    <marker id="arrowhead2" markerWidth="8" markerHeight="8" refX="7" refY="3" orient="auto">
      <polygon points="0 0, 8 3, 0 6" fill="#ff9900"/>
    </marker>
  </defs>
</svg>
